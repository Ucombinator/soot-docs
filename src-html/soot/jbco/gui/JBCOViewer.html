<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Source code</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<div class="sourceContainer">
<pre><span class="sourceLineNo">001</span>package soot.jbco.gui;<a name="line.1"></a>
<span class="sourceLineNo">002</span>import java.awt.*;<a name="line.2"></a>
<span class="sourceLineNo">003</span>import java.awt.event.ActionEvent;<a name="line.3"></a>
<span class="sourceLineNo">004</span>import java.awt.event.ActionListener;<a name="line.4"></a>
<span class="sourceLineNo">005</span>import javax.swing.*;<a name="line.5"></a>
<span class="sourceLineNo">006</span>import javax.swing.border.LineBorder;<a name="line.6"></a>
<span class="sourceLineNo">007</span>import javax.swing.event.ListSelectionEvent;<a name="line.7"></a>
<span class="sourceLineNo">008</span>import javax.swing.event.ListSelectionListener;<a name="line.8"></a>
<span class="sourceLineNo">009</span>import java.util.*;<a name="line.9"></a>
<span class="sourceLineNo">010</span>import java.io.*;<a name="line.10"></a>
<span class="sourceLineNo">011</span>/**<a name="line.11"></a>
<span class="sourceLineNo">012</span>* This code was edited or generated using CloudGarden's Jigloo<a name="line.12"></a>
<span class="sourceLineNo">013</span>* SWT/Swing GUI Builder, which is free for non-commercial<a name="line.13"></a>
<span class="sourceLineNo">014</span>* use. If Jigloo is being used commercially (ie, by a corporation,<a name="line.14"></a>
<span class="sourceLineNo">015</span>* company or business for any purpose whatever) then you<a name="line.15"></a>
<span class="sourceLineNo">016</span>* should purchase a license for each developer using Jigloo.<a name="line.16"></a>
<span class="sourceLineNo">017</span>* Please visit www.cloudgarden.com for details.<a name="line.17"></a>
<span class="sourceLineNo">018</span>* Use of Jigloo implies acceptance of these licensing terms.<a name="line.18"></a>
<span class="sourceLineNo">019</span>* A COMMERCIAL LICENSE HAS NOT BEEN PURCHASED FOR<a name="line.19"></a>
<span class="sourceLineNo">020</span>* THIS MACHINE, SO JIGLOO OR THIS CODE CANNOT BE USED<a name="line.20"></a>
<span class="sourceLineNo">021</span>* LEGALLY FOR ANY CORPORATE OR COMMERCIAL PURPOSE.<a name="line.21"></a>
<span class="sourceLineNo">022</span>*/<a name="line.22"></a>
<span class="sourceLineNo">023</span>public class JBCOViewer extends javax.swing.JFrame {<a name="line.23"></a>
<span class="sourceLineNo">024</span><a name="line.24"></a>
<span class="sourceLineNo">025</span>  private JMenuItem speedMenuItem;<a name="line.25"></a>
<span class="sourceLineNo">026</span>  private JMenuItem sizeMenuItem;<a name="line.26"></a>
<span class="sourceLineNo">027</span>  private JMenuItem protMenuItem;<a name="line.27"></a>
<span class="sourceLineNo">028</span>  private JLabel LabelMainClass;<a name="line.28"></a>
<span class="sourceLineNo">029</span>  private JRadioButton RadioSummary;<a name="line.29"></a>
<span class="sourceLineNo">030</span>  private JRadioButton RadioVerbose;<a name="line.30"></a>
<span class="sourceLineNo">031</span>  private JPanel PanelExecute;<a name="line.31"></a>
<span class="sourceLineNo">032</span>  private JPanel PanelTransforms;<a name="line.32"></a>
<span class="sourceLineNo">033</span>  private JPanel PanelBasicOptions;<a name="line.33"></a>
<span class="sourceLineNo">034</span>  private JTabbedPane TabbedPane;<a name="line.34"></a>
<span class="sourceLineNo">035</span>  private JMenuItem exitMenuItem;<a name="line.35"></a>
<span class="sourceLineNo">036</span>  private JTextField TextFieldConstraint;<a name="line.36"></a>
<span class="sourceLineNo">037</span>  private JTextPane PaneExplain;<a name="line.37"></a>
<span class="sourceLineNo">038</span>  private JList AvoidList;<a name="line.38"></a>
<span class="sourceLineNo">039</span>  private JPanel jPanel1;<a name="line.39"></a>
<span class="sourceLineNo">040</span>  private JTextField ClasspathTextField;<a name="line.40"></a>
<span class="sourceLineNo">041</span>  private JLabel LabelClassPath;<a name="line.41"></a>
<span class="sourceLineNo">042</span>  private JTextField TextFieldMain;<a name="line.42"></a>
<span class="sourceLineNo">043</span>  public JMenuItem openFileMenuItem;<a name="line.43"></a>
<span class="sourceLineNo">044</span>  public JMenuItem newFileMenuItem;<a name="line.44"></a>
<span class="sourceLineNo">045</span>  private JMenu jMenu3;<a name="line.45"></a>
<span class="sourceLineNo">046</span>  private JMenuBar jMenuBar1;<a name="line.46"></a>
<span class="sourceLineNo">047</span>  private JTextPane jTextPane1;<a name="line.47"></a>
<span class="sourceLineNo">048</span>  private JRadioButton DebugRadio;<a name="line.48"></a>
<span class="sourceLineNo">049</span>  private JTextField WorkingDirTextField;<a name="line.49"></a>
<span class="sourceLineNo">050</span>  private JLabel LabelWorkingDir;<a name="line.50"></a>
<span class="sourceLineNo">051</span>  private JTextPane DefaultClassPathPane;<a name="line.51"></a>
<span class="sourceLineNo">052</span>  public JTextArea TextAreaOutput;<a name="line.52"></a>
<span class="sourceLineNo">053</span>  public JScrollPane jScrollPane1;<a name="line.53"></a>
<span class="sourceLineNo">054</span>  private JPanel jPanel2;<a name="line.54"></a>
<span class="sourceLineNo">055</span>  private JTextField TextFieldMinMem;<a name="line.55"></a>
<span class="sourceLineNo">056</span>  private JButton ButtonAddItem;<a name="line.56"></a>
<span class="sourceLineNo">057</span>  private JComboBox ComboBoxDefWeight;<a name="line.57"></a>
<span class="sourceLineNo">058</span>  private JLabel LabelDefWeight;<a name="line.58"></a>
<span class="sourceLineNo">059</span>  private JLabel LabelTransformHeading;<a name="line.59"></a>
<span class="sourceLineNo">060</span>  private JList ListTransforms;<a name="line.60"></a>
<span class="sourceLineNo">061</span>  private JComboBox ComboWeight;<a name="line.61"></a>
<span class="sourceLineNo">062</span>  private JLabel LabelOutputDir;<a name="line.62"></a>
<span class="sourceLineNo">063</span>  private JTextField TextField;<a name="line.63"></a>
<span class="sourceLineNo">064</span>  private JTextField TextFieldJVMArgs;<a name="line.64"></a>
<span class="sourceLineNo">065</span>  private JLabel LabelJVM;<a name="line.65"></a>
<span class="sourceLineNo">066</span>  private JTextField TextFieldMaxMem;<a name="line.66"></a>
<span class="sourceLineNo">067</span>  private JLabel LabelMaxMem;<a name="line.67"></a>
<span class="sourceLineNo">068</span>  private JLabel LabelMinMem;<a name="line.68"></a>
<span class="sourceLineNo">069</span>  private JTextField TextFieldOutputFolder;<a name="line.69"></a>
<span class="sourceLineNo">070</span>  private JButton ButtonSaveOutput;<a name="line.70"></a>
<span class="sourceLineNo">071</span>  private JButton ButtonRemove;<a name="line.71"></a>
<span class="sourceLineNo">072</span>  private JFrame thisRef;<a name="line.72"></a>
<span class="sourceLineNo">073</span>  private RunnerThread runner;<a name="line.73"></a>
<span class="sourceLineNo">074</span>  <a name="line.74"></a>
<span class="sourceLineNo">075</span>  static int previousSelected = -1;<a name="line.75"></a>
<span class="sourceLineNo">076</span>  static ListModel models[] = new ListModel[20];<a name="line.76"></a>
<span class="sourceLineNo">077</span>  static String[][] optionStrings = new String[][] { {"Rename Classes","Rename Methods","Rename Fields","Build API Buffer Methods","Build Library Buffer Classes","Goto Instruction Augmentation","Add Dead Switch Statements","Convert Arith. Expr. To Bit Ops","Convert Branches to JSR Instructions","Disobey Constructor Conventions","Reuse Duplicate Sequences","Replace If(Non)Nulls with Try-Catch","Indirect If Instructions","Pack Locals into Bitfields","Reorder Loads Above Ifs","Combine Try and Catch Blocks","Embed Constants in Fields","Partially Trap Switches"}, <a name="line.77"></a>
<span class="sourceLineNo">078</span>                                                     {"wjtp.jbco_cr",  "wjtp.jbco_mr",  "wjtp.jbco_fr", "wjtp.jbco_bapibm",        "wjtp.jbco_blbc",              "jtp.jbco_gia",                 "jtp.jbco_adss",             "jtp.jbco_cae2bo",                        "bb.jbco_cb2ji",                       "bb.jbco_dcc",                    "bb.jbco_rds",              "bb.jbco_riitcb",                     "bb.jbco_iii",             "bb.jbco_plvb",              "bb.jbco_rlaii",          "bb.jbco_ctbcb",               "bb.jbco_ecvf",             "bb.jbco_ptss"           }};<a name="line.78"></a>
<span class="sourceLineNo">079</span>  <a name="line.79"></a>
<span class="sourceLineNo">080</span>  static int[][] defaultWeights     = new int[][]  { {9,               9,               9,              9,                         9,                             9,                              6,                           9,                                        0,                                     0,                                3,                          9,                                    6,                         3,                           9,                        9,                             0,                          0,                       },<a name="line.80"></a>
<span class="sourceLineNo">081</span>                                                     {0,               0,               0,              0,                         9,                             6,                              0,                           9,                                        9,                                     9,                                0,                          9,                                    0,                         0,                           9,                        9,                             0,                          9,                       },<a name="line.81"></a>
<span class="sourceLineNo">082</span>                                                     {5,               5,               5,              6,                         9,                             9,                              5,                           9,                                        9,                                     5,                                7,                          9,                                    9,                         2,                           9,                        9,                             0,                          9,                       }};<a name="line.82"></a>
<span class="sourceLineNo">083</span>  static String[] arguments = null;<a name="line.83"></a>
<span class="sourceLineNo">084</span>  /**<a name="line.84"></a>
<span class="sourceLineNo">085</span>  * Auto-generated main method to display this JFrame<a name="line.85"></a>
<span class="sourceLineNo">086</span>  */<a name="line.86"></a>
<span class="sourceLineNo">087</span>  public static void main(String[] args) {<a name="line.87"></a>
<span class="sourceLineNo">088</span>    arguments = args;<a name="line.88"></a>
<span class="sourceLineNo">089</span>    JBCOViewer inst = new JBCOViewer();<a name="line.89"></a>
<span class="sourceLineNo">090</span>    inst.setVisible(true);<a name="line.90"></a>
<span class="sourceLineNo">091</span>  }<a name="line.91"></a>
<span class="sourceLineNo">092</span>  <a name="line.92"></a>
<span class="sourceLineNo">093</span>  public JBCOViewer() {<a name="line.93"></a>
<span class="sourceLineNo">094</span>    super();<a name="line.94"></a>
<span class="sourceLineNo">095</span>    initGUI();<a name="line.95"></a>
<span class="sourceLineNo">096</span>  }<a name="line.96"></a>
<span class="sourceLineNo">097</span>  <a name="line.97"></a>
<span class="sourceLineNo">098</span>  private void initGUI() {<a name="line.98"></a>
<span class="sourceLineNo">099</span>    thisRef = this;<a name="line.99"></a>
<span class="sourceLineNo">100</span>    try {<a name="line.100"></a>
<span class="sourceLineNo">101</span>      {<a name="line.101"></a>
<span class="sourceLineNo">102</span>        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);<a name="line.102"></a>
<span class="sourceLineNo">103</span>        this.setIconImage(new ImageIcon(getClass().getClassLoader().getResource("soot/jbco/gui/jbco.jpg")).getImage());<a name="line.103"></a>
<span class="sourceLineNo">104</span>        this.setTitle("Java Bytecode Obfuscator");<a name="line.104"></a>
<span class="sourceLineNo">105</span>      }<a name="line.105"></a>
<span class="sourceLineNo">106</span>      {<a name="line.106"></a>
<span class="sourceLineNo">107</span>        TabbedPane = new JTabbedPane();<a name="line.107"></a>
<span class="sourceLineNo">108</span>        getContentPane().add(TabbedPane, BorderLayout.CENTER);<a name="line.108"></a>
<span class="sourceLineNo">109</span>        {<a name="line.109"></a>
<span class="sourceLineNo">110</span>          PanelBasicOptions = new JPanel();<a name="line.110"></a>
<span class="sourceLineNo">111</span>          TabbedPane.addTab("Basic Options", null, PanelBasicOptions, null);<a name="line.111"></a>
<span class="sourceLineNo">112</span>          PanelBasicOptions.setLayout(null);<a name="line.112"></a>
<span class="sourceLineNo">113</span>          PanelBasicOptions.setPreferredSize(new java.awt.Dimension(623, 413));<a name="line.113"></a>
<span class="sourceLineNo">114</span>          {<a name="line.114"></a>
<span class="sourceLineNo">115</span>            RadioVerbose = new JRadioButton();<a name="line.115"></a>
<span class="sourceLineNo">116</span>            PanelBasicOptions.add(RadioVerbose);<a name="line.116"></a>
<span class="sourceLineNo">117</span>            RadioVerbose.setText("Verbose Output");<a name="line.117"></a>
<span class="sourceLineNo">118</span>            RadioVerbose.setBounds(7, 9, 130, 26);<a name="line.118"></a>
<span class="sourceLineNo">119</span>            RadioVerbose.addActionListener(new ActionListener() {<a name="line.119"></a>
<span class="sourceLineNo">120</span>              public void actionPerformed(ActionEvent evt) {<a name="line.120"></a>
<span class="sourceLineNo">121</span>                if (RadioVerbose.isSelected())<a name="line.121"></a>
<span class="sourceLineNo">122</span>                  RadioSummary.setSelected(false);<a name="line.122"></a>
<span class="sourceLineNo">123</span>              }<a name="line.123"></a>
<span class="sourceLineNo">124</span>            });<a name="line.124"></a>
<span class="sourceLineNo">125</span>          }<a name="line.125"></a>
<span class="sourceLineNo">126</span>          {<a name="line.126"></a>
<span class="sourceLineNo">127</span>            RadioSummary = new JRadioButton();<a name="line.127"></a>
<span class="sourceLineNo">128</span>            PanelBasicOptions.add(RadioSummary);<a name="line.128"></a>
<span class="sourceLineNo">129</span>            RadioSummary.setText("Silent Output");<a name="line.129"></a>
<span class="sourceLineNo">130</span>            RadioSummary.setBounds(147, 7, 140, 28);<a name="line.130"></a>
<span class="sourceLineNo">131</span>            RadioSummary.addActionListener(new ActionListener() {<a name="line.131"></a>
<span class="sourceLineNo">132</span>              public void actionPerformed(ActionEvent evt) {<a name="line.132"></a>
<span class="sourceLineNo">133</span>                if (RadioSummary.isSelected())<a name="line.133"></a>
<span class="sourceLineNo">134</span>                  RadioVerbose.setSelected(false);<a name="line.134"></a>
<span class="sourceLineNo">135</span>              }<a name="line.135"></a>
<span class="sourceLineNo">136</span>            });<a name="line.136"></a>
<span class="sourceLineNo">137</span>          }<a name="line.137"></a>
<span class="sourceLineNo">138</span>          {<a name="line.138"></a>
<span class="sourceLineNo">139</span>            LabelMainClass = new JLabel();<a name="line.139"></a>
<span class="sourceLineNo">140</span>            PanelBasicOptions.add(LabelMainClass);<a name="line.140"></a>
<span class="sourceLineNo">141</span>            LabelMainClass.setText("Main Class");<a name="line.141"></a>
<span class="sourceLineNo">142</span>            LabelMainClass.setHorizontalTextPosition(SwingConstants.CENTER);<a name="line.142"></a>
<span class="sourceLineNo">143</span>            LabelMainClass.setBounds(14, 98, 77, 28);<a name="line.143"></a>
<span class="sourceLineNo">144</span>          }<a name="line.144"></a>
<span class="sourceLineNo">145</span>          {<a name="line.145"></a>
<span class="sourceLineNo">146</span>            TextFieldMain = new JTextField();<a name="line.146"></a>
<span class="sourceLineNo">147</span>            PanelBasicOptions.add(TextFieldMain);<a name="line.147"></a>
<span class="sourceLineNo">148</span>            TextFieldMain.setBounds(98, 98, 245, 28);<a name="line.148"></a>
<span class="sourceLineNo">149</span>          }<a name="line.149"></a>
<span class="sourceLineNo">150</span>          {<a name="line.150"></a>
<span class="sourceLineNo">151</span>            ClasspathTextField = new JTextField();<a name="line.151"></a>
<span class="sourceLineNo">152</span>            PanelBasicOptions.add(ClasspathTextField);<a name="line.152"></a>
<span class="sourceLineNo">153</span>            ClasspathTextField.setBounds(98, 203, 511, 28);<a name="line.153"></a>
<span class="sourceLineNo">154</span>          }<a name="line.154"></a>
<span class="sourceLineNo">155</span>          {<a name="line.155"></a>
<span class="sourceLineNo">156</span>            LabelClassPath = new JLabel();<a name="line.156"></a>
<span class="sourceLineNo">157</span>            PanelBasicOptions.add(LabelClassPath);<a name="line.157"></a>
<span class="sourceLineNo">158</span>            LabelClassPath.setText("Classpath");<a name="line.158"></a>
<span class="sourceLineNo">159</span>            LabelClassPath.setBounds(14, 203, 77, 28);<a name="line.159"></a>
<span class="sourceLineNo">160</span>          }<a name="line.160"></a>
<span class="sourceLineNo">161</span>          {<a name="line.161"></a>
<span class="sourceLineNo">162</span>            LabelMinMem = new JLabel();<a name="line.162"></a>
<span class="sourceLineNo">163</span>            PanelBasicOptions.add(LabelMinMem);<a name="line.163"></a>
<span class="sourceLineNo">164</span>            LabelMinMem.setText("Minimum Memory (MB)");<a name="line.164"></a>
<span class="sourceLineNo">165</span>            LabelMinMem.setBounds(378, 7, 161, 28);<a name="line.165"></a>
<span class="sourceLineNo">166</span>          }<a name="line.166"></a>
<span class="sourceLineNo">167</span>          {<a name="line.167"></a>
<span class="sourceLineNo">168</span>            LabelMaxMem = new JLabel();<a name="line.168"></a>
<span class="sourceLineNo">169</span>            PanelBasicOptions.add(LabelMaxMem);<a name="line.169"></a>
<span class="sourceLineNo">170</span>            LabelMaxMem.setText("Maximum Memory (MB)");<a name="line.170"></a>
<span class="sourceLineNo">171</span>            LabelMaxMem.setBounds(378, 42, 161, 28);<a name="line.171"></a>
<span class="sourceLineNo">172</span>          }<a name="line.172"></a>
<span class="sourceLineNo">173</span>          {<a name="line.173"></a>
<span class="sourceLineNo">174</span>            TextFieldMinMem = new JTextField();<a name="line.174"></a>
<span class="sourceLineNo">175</span>            PanelBasicOptions.add(TextFieldMinMem);<a name="line.175"></a>
<span class="sourceLineNo">176</span>            TextFieldMinMem.setBounds(546, 7, 63, 28);<a name="line.176"></a>
<span class="sourceLineNo">177</span>            TextFieldMinMem.setText("256");<a name="line.177"></a>
<span class="sourceLineNo">178</span>          }<a name="line.178"></a>
<span class="sourceLineNo">179</span>          {<a name="line.179"></a>
<span class="sourceLineNo">180</span>            TextFieldMaxMem = new JTextField();<a name="line.180"></a>
<span class="sourceLineNo">181</span>            PanelBasicOptions.add(TextFieldMaxMem);<a name="line.181"></a>
<span class="sourceLineNo">182</span>            TextFieldMaxMem.setText("1024");<a name="line.182"></a>
<span class="sourceLineNo">183</span>            TextFieldMaxMem.setBounds(546, 42, 63, 28);<a name="line.183"></a>
<span class="sourceLineNo">184</span>          }<a name="line.184"></a>
<span class="sourceLineNo">185</span>          {<a name="line.185"></a>
<span class="sourceLineNo">186</span>            LabelJVM = new JLabel();<a name="line.186"></a>
<span class="sourceLineNo">187</span>            PanelBasicOptions.add(LabelJVM);<a name="line.187"></a>
<span class="sourceLineNo">188</span>            LabelJVM.setText("JVM Args");<a name="line.188"></a>
<span class="sourceLineNo">189</span>            LabelJVM.setBounds(14, 42, 77, 28);<a name="line.189"></a>
<span class="sourceLineNo">190</span>          }<a name="line.190"></a>
<span class="sourceLineNo">191</span>          {<a name="line.191"></a>
<span class="sourceLineNo">192</span>            TextFieldJVMArgs = new JTextField();<a name="line.192"></a>
<span class="sourceLineNo">193</span>            PanelBasicOptions.add(TextFieldJVMArgs);<a name="line.193"></a>
<span class="sourceLineNo">194</span>            TextFieldJVMArgs.setBounds(98, 42, 245, 28);<a name="line.194"></a>
<span class="sourceLineNo">195</span>          }<a name="line.195"></a>
<span class="sourceLineNo">196</span>          {<a name="line.196"></a>
<span class="sourceLineNo">197</span>            TextField = new JTextField();<a name="line.197"></a>
<span class="sourceLineNo">198</span>            PanelBasicOptions.add(TextField);<a name="line.198"></a>
<span class="sourceLineNo">199</span>            TextField.setBounds(98, 133, 511, 28);<a name="line.199"></a>
<span class="sourceLineNo">200</span>          }<a name="line.200"></a>
<span class="sourceLineNo">201</span>          {<a name="line.201"></a>
<span class="sourceLineNo">202</span>            LabelOutputDir = new JLabel();<a name="line.202"></a>
<span class="sourceLineNo">203</span>            PanelBasicOptions.add(LabelOutputDir);<a name="line.203"></a>
<span class="sourceLineNo">204</span>            LabelOutputDir.setText("Output Dir");<a name="line.204"></a>
<span class="sourceLineNo">205</span>            LabelOutputDir.setBounds(14, 133, 77, 28);<a name="line.205"></a>
<span class="sourceLineNo">206</span>          }<a name="line.206"></a>
<span class="sourceLineNo">207</span>          {<a name="line.207"></a>
<span class="sourceLineNo">208</span>            jPanel2 = new JPanel();<a name="line.208"></a>
<span class="sourceLineNo">209</span>            PanelBasicOptions.add(jPanel2);<a name="line.209"></a>
<span class="sourceLineNo">210</span>            jPanel2.setBounds(14, 84, 595, 7);<a name="line.210"></a>
<span class="sourceLineNo">211</span>            jPanel2.setBorder(new LineBorder(new java.awt.Color(0,0,0), 1, false));<a name="line.211"></a>
<span class="sourceLineNo">212</span>            jPanel2.setPreferredSize(new java.awt.Dimension(2, 2));<a name="line.212"></a>
<span class="sourceLineNo">213</span>            jPanel2.setSize(595, 2);<a name="line.213"></a>
<span class="sourceLineNo">214</span>          }<a name="line.214"></a>
<span class="sourceLineNo">215</span>          {<a name="line.215"></a>
<span class="sourceLineNo">216</span>            DefaultClassPathPane = new JTextPane();<a name="line.216"></a>
<span class="sourceLineNo">217</span>            DefaultClassPathPane.setText("./:/usr/lib/jvm/java-1.5.0-sun-1.5.0.06/jre/lib/charsets.jar\n" +<a name="line.217"></a>
<span class="sourceLineNo">218</span>                ":/usr/lib/jvm/java-1.5.0-sun-1.5.0.06/jre/lib/jce.jar\n" +<a name="line.218"></a>
<span class="sourceLineNo">219</span>                ":/usr/lib/jvm/java-1.5.0-sun-1.5.0.06/jre/lib/jsse.jar\n" +<a name="line.219"></a>
<span class="sourceLineNo">220</span>                ":/usr/lib/jvm/java-1.5.0-sun-1.5.0.06/jre/lib/rt.jar");<a name="line.220"></a>
<span class="sourceLineNo">221</span>            <a name="line.221"></a>
<span class="sourceLineNo">222</span>            if (arguments!=null) {<a name="line.222"></a>
<span class="sourceLineNo">223</span>              for (int i = 0; i &lt; arguments.length; i++) {<a name="line.223"></a>
<span class="sourceLineNo">224</span>                if (arguments[i].equals("-cp") || arguments[i].equals("-classpath") &amp;&amp; arguments.length&gt;(i+1)) {<a name="line.224"></a>
<span class="sourceLineNo">225</span>                  StringTokenizer cptokenizer = new StringTokenizer(arguments[i+1],":");<a name="line.225"></a>
<span class="sourceLineNo">226</span>                  String cp = cptokenizer.nextToken();<a name="line.226"></a>
<span class="sourceLineNo">227</span>                  while (cptokenizer.hasMoreTokens())<a name="line.227"></a>
<span class="sourceLineNo">228</span>                    cp += "\n:" + cptokenizer.nextToken();<a name="line.228"></a>
<span class="sourceLineNo">229</span>                  DefaultClassPathPane.setText(arguments[i+1]);<a name="line.229"></a>
<span class="sourceLineNo">230</span>                }<a name="line.230"></a>
<span class="sourceLineNo">231</span>              }<a name="line.231"></a>
<span class="sourceLineNo">232</span>            }<a name="line.232"></a>
<span class="sourceLineNo">233</span>            PanelBasicOptions.add(DefaultClassPathPane);<a name="line.233"></a>
<span class="sourceLineNo">234</span>            DefaultClassPathPane.setBounds(98, 238, 518, 133);<a name="line.234"></a>
<span class="sourceLineNo">235</span>          }<a name="line.235"></a>
<span class="sourceLineNo">236</span>          {<a name="line.236"></a>
<span class="sourceLineNo">237</span>            LabelWorkingDir = new JLabel();<a name="line.237"></a>
<span class="sourceLineNo">238</span>            PanelBasicOptions.add(LabelWorkingDir);<a name="line.238"></a>
<span class="sourceLineNo">239</span>            LabelWorkingDir.setText("Working Dir");<a name="line.239"></a>
<span class="sourceLineNo">240</span>            LabelWorkingDir.setBounds(14, 168, 84, 28);<a name="line.240"></a>
<span class="sourceLineNo">241</span>          }<a name="line.241"></a>
<span class="sourceLineNo">242</span>          {<a name="line.242"></a>
<span class="sourceLineNo">243</span>            WorkingDirTextField = new JTextField();<a name="line.243"></a>
<span class="sourceLineNo">244</span>            WorkingDirTextField.setText(System.getProperty("user.dir"));<a name="line.244"></a>
<span class="sourceLineNo">245</span>            PanelBasicOptions.add(WorkingDirTextField);<a name="line.245"></a>
<span class="sourceLineNo">246</span>            WorkingDirTextField.setBounds(98, 168, 511, 28);<a name="line.246"></a>
<span class="sourceLineNo">247</span>          }<a name="line.247"></a>
<span class="sourceLineNo">248</span>          {<a name="line.248"></a>
<span class="sourceLineNo">249</span>            DebugRadio = new JRadioButton();<a name="line.249"></a>
<span class="sourceLineNo">250</span>            PanelBasicOptions.add(DebugRadio);<a name="line.250"></a>
<span class="sourceLineNo">251</span>            DebugRadio.setText("Debug");<a name="line.251"></a>
<span class="sourceLineNo">252</span>            DebugRadio.setBounds(280, 7, 84, 28);<a name="line.252"></a>
<span class="sourceLineNo">253</span>          }<a name="line.253"></a>
<span class="sourceLineNo">254</span>          {<a name="line.254"></a>
<span class="sourceLineNo">255</span>            jTextPane1 = new JTextPane();<a name="line.255"></a>
<span class="sourceLineNo">256</span>            PanelBasicOptions.add(jTextPane1);<a name="line.256"></a>
<span class="sourceLineNo">257</span>            jTextPane1.setText("Default Classpath");<a name="line.257"></a>
<span class="sourceLineNo">258</span>            jTextPane1.setBounds(14, 238, 84, 35);<a name="line.258"></a>
<span class="sourceLineNo">259</span>          }<a name="line.259"></a>
<span class="sourceLineNo">260</span>        }<a name="line.260"></a>
<span class="sourceLineNo">261</span>        {<a name="line.261"></a>
<span class="sourceLineNo">262</span>          PanelTransforms = new JPanel();<a name="line.262"></a>
<span class="sourceLineNo">263</span>          TabbedPane.addTab("Transforms", null, PanelTransforms, null);<a name="line.263"></a>
<span class="sourceLineNo">264</span>          PanelTransforms.setLayout(null);<a name="line.264"></a>
<span class="sourceLineNo">265</span>          PanelTransforms.setPreferredSize(new java.awt.Dimension(630, 385));<a name="line.265"></a>
<span class="sourceLineNo">266</span>          {<a name="line.266"></a>
<span class="sourceLineNo">267</span>            jPanel1 = new JPanel();<a name="line.267"></a>
<span class="sourceLineNo">268</span>            PanelTransforms.add(jPanel1);<a name="line.268"></a>
<span class="sourceLineNo">269</span>            jPanel1.setBounds(245, 49, 378, 329);<a name="line.269"></a>
<span class="sourceLineNo">270</span>            jPanel1.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, new java.awt.Color(0,0,0)));<a name="line.270"></a>
<span class="sourceLineNo">271</span>            jPanel1.setLayout(null);<a name="line.271"></a>
<span class="sourceLineNo">272</span>            {<a name="line.272"></a>
<span class="sourceLineNo">273</span>              ListModel AvoidListModel = new DefaultComboBoxModel(new String[] {});<a name="line.273"></a>
<span class="sourceLineNo">274</span>              AvoidList = new JList();<a name="line.274"></a>
<span class="sourceLineNo">275</span>              jPanel1.add(AvoidList);<a name="line.275"></a>
<span class="sourceLineNo">276</span>              AvoidList.setModel(AvoidListModel);<a name="line.276"></a>
<span class="sourceLineNo">277</span>              AvoidList.setBounds(7, 112, 364, 210);<a name="line.277"></a>
<span class="sourceLineNo">278</span>              AvoidList.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, new java.awt.Color(0,0,0)));<a name="line.278"></a>
<span class="sourceLineNo">279</span>              AvoidList.addListSelectionListener(new ListSelectionListener() {<a name="line.279"></a>
<span class="sourceLineNo">280</span>                public void valueChanged(ListSelectionEvent evt) {<a name="line.280"></a>
<span class="sourceLineNo">281</span>                  int length = AvoidList.getSelectedIndices().length;<a name="line.281"></a>
<span class="sourceLineNo">282</span>                  if (length &lt; 1) <a name="line.282"></a>
<span class="sourceLineNo">283</span>                    ButtonRemove.setEnabled(false);<a name="line.283"></a>
<span class="sourceLineNo">284</span>                  else<a name="line.284"></a>
<span class="sourceLineNo">285</span>                    ButtonRemove.setEnabled(true);<a name="line.285"></a>
<span class="sourceLineNo">286</span>                }<a name="line.286"></a>
<span class="sourceLineNo">287</span>              });<a name="line.287"></a>
<span class="sourceLineNo">288</span>            }<a name="line.288"></a>
<span class="sourceLineNo">289</span>            {<a name="line.289"></a>
<span class="sourceLineNo">290</span>              TextFieldConstraint = new JTextField();<a name="line.290"></a>
<span class="sourceLineNo">291</span>              jPanel1.add(TextFieldConstraint);<a name="line.291"></a>
<span class="sourceLineNo">292</span>              TextFieldConstraint.setBounds(7, 42, 294, 28);<a name="line.292"></a>
<span class="sourceLineNo">293</span>            }<a name="line.293"></a>
<span class="sourceLineNo">294</span>            {<a name="line.294"></a>
<span class="sourceLineNo">295</span>              ButtonRemove = new JButton();<a name="line.295"></a>
<span class="sourceLineNo">296</span>              jPanel1.add(ButtonRemove);<a name="line.296"></a>
<span class="sourceLineNo">297</span>              ButtonRemove.setText("Remove Item");<a name="line.297"></a>
<span class="sourceLineNo">298</span>              ButtonRemove.setBounds(231, 77, 133, 28);<a name="line.298"></a>
<span class="sourceLineNo">299</span>              ButtonRemove.addActionListener(new ActionListener() {<a name="line.299"></a>
<span class="sourceLineNo">300</span>                public void actionPerformed(ActionEvent evt) {<a name="line.300"></a>
<span class="sourceLineNo">301</span>                  int index[] = AvoidList.getSelectedIndices();<a name="line.301"></a>
<span class="sourceLineNo">302</span>                  if (index.length &lt; 1) { <a name="line.302"></a>
<span class="sourceLineNo">303</span>                    java.awt.Toolkit.getDefaultToolkit().beep();<a name="line.303"></a>
<span class="sourceLineNo">304</span>                    return;<a name="line.304"></a>
<span class="sourceLineNo">305</span>                  }<a name="line.305"></a>
<span class="sourceLineNo">306</span>                  <a name="line.306"></a>
<span class="sourceLineNo">307</span>                  Object o[] = new Object[index.length];<a name="line.307"></a>
<span class="sourceLineNo">308</span>                  DefaultComboBoxModel lm = (DefaultComboBoxModel)AvoidList.getModel();<a name="line.308"></a>
<span class="sourceLineNo">309</span>                  for (int i = 0; i &lt; index.length; i++)<a name="line.309"></a>
<span class="sourceLineNo">310</span>                    o[i] = lm.getElementAt(index[i]);<a name="line.310"></a>
<span class="sourceLineNo">311</span>                  for (int i = 0; i &lt; index.length; i++)<a name="line.311"></a>
<span class="sourceLineNo">312</span>                    lm.removeElement(o[i]);<a name="line.312"></a>
<span class="sourceLineNo">313</span>                  <a name="line.313"></a>
<span class="sourceLineNo">314</span>                  models[previousSelected] = lm;<a name="line.314"></a>
<span class="sourceLineNo">315</span>                }<a name="line.315"></a>
<span class="sourceLineNo">316</span>              });<a name="line.316"></a>
<span class="sourceLineNo">317</span>            }<a name="line.317"></a>
<span class="sourceLineNo">318</span>            {<a name="line.318"></a>
<span class="sourceLineNo">319</span>              ComboBoxModel ComboWeightModel = new DefaultComboBoxModel(<a name="line.319"></a>
<span class="sourceLineNo">320</span>                new String[] { "0", "1", "2", "3", "4", "5", "6", "7", "8", "9" });<a name="line.320"></a>
<span class="sourceLineNo">321</span>              ComboWeight = new JComboBox();<a name="line.321"></a>
<span class="sourceLineNo">322</span>              jPanel1.add(ComboWeight);<a name="line.322"></a>
<span class="sourceLineNo">323</span>              ComboWeight.setModel(ComboWeightModel);<a name="line.323"></a>
<span class="sourceLineNo">324</span>              ComboWeight.setBounds(308, 42, 56, 28);<a name="line.324"></a>
<span class="sourceLineNo">325</span>            }<a name="line.325"></a>
<span class="sourceLineNo">326</span>            {<a name="line.326"></a>
<span class="sourceLineNo">327</span>              LabelTransformHeading = new JLabel();<a name="line.327"></a>
<span class="sourceLineNo">328</span>              jPanel1.add(LabelTransformHeading);<a name="line.328"></a>
<span class="sourceLineNo">329</span>              LabelTransformHeading.setText("Rename Classes");<a name="line.329"></a>
<span class="sourceLineNo">330</span>              LabelTransformHeading.setBounds(7, 7, 182, 28);<a name="line.330"></a>
<span class="sourceLineNo">331</span>            }<a name="line.331"></a>
<span class="sourceLineNo">332</span>            {<a name="line.332"></a>
<span class="sourceLineNo">333</span>              LabelDefWeight = new JLabel();<a name="line.333"></a>
<span class="sourceLineNo">334</span>              jPanel1.add(LabelDefWeight);<a name="line.334"></a>
<span class="sourceLineNo">335</span>              LabelDefWeight.setText("Default Weight");<a name="line.335"></a>
<span class="sourceLineNo">336</span>              LabelDefWeight.setBounds(203, 7, 98, 28);<a name="line.336"></a>
<span class="sourceLineNo">337</span>            }<a name="line.337"></a>
<span class="sourceLineNo">338</span>            {<a name="line.338"></a>
<span class="sourceLineNo">339</span>              ComboBoxModel ComboBoxDefWeightModel = new DefaultComboBoxModel(<a name="line.339"></a>
<span class="sourceLineNo">340</span>                new String[] { "0", "1", "2", "3", "4", "5", "6", "7", "8", "9" });<a name="line.340"></a>
<span class="sourceLineNo">341</span>              ComboBoxDefWeight = new JComboBox();<a name="line.341"></a>
<span class="sourceLineNo">342</span>              jPanel1.add(ComboBoxDefWeight);<a name="line.342"></a>
<span class="sourceLineNo">343</span>              ComboBoxDefWeight.setModel(ComboBoxDefWeightModel);<a name="line.343"></a>
<span class="sourceLineNo">344</span>              ComboBoxDefWeight.setBounds(308, 7, 56, 28);<a name="line.344"></a>
<span class="sourceLineNo">345</span>              ComboBoxDefWeight.addActionListener(new ActionListener() {<a name="line.345"></a>
<span class="sourceLineNo">346</span>                public void actionPerformed(ActionEvent evt) {<a name="line.346"></a>
<span class="sourceLineNo">347</span>                  int index = ListTransforms.getSelectedIndex();<a name="line.347"></a>
<span class="sourceLineNo">348</span>                  if (index &lt; 0) return;<a name="line.348"></a>
<span class="sourceLineNo">349</span>                  <a name="line.349"></a>
<span class="sourceLineNo">350</span>                  DefaultComboBoxModel lm = (DefaultComboBoxModel)ListTransforms.getModel();<a name="line.350"></a>
<span class="sourceLineNo">351</span>                  lm.removeElementAt(index);<a name="line.351"></a>
<span class="sourceLineNo">352</span>                  lm.insertElementAt(optionStrings[0][index] + " - "+ComboBoxDefWeight.getSelectedItem(), index);<a name="line.352"></a>
<span class="sourceLineNo">353</span>                }<a name="line.353"></a>
<span class="sourceLineNo">354</span>              });<a name="line.354"></a>
<span class="sourceLineNo">355</span>            }<a name="line.355"></a>
<span class="sourceLineNo">356</span>            {<a name="line.356"></a>
<span class="sourceLineNo">357</span>              ButtonAddItem = new JButton();<a name="line.357"></a>
<span class="sourceLineNo">358</span>              jPanel1.add(ButtonAddItem);<a name="line.358"></a>
<span class="sourceLineNo">359</span>              ButtonAddItem.setText("Add Item");<a name="line.359"></a>
<span class="sourceLineNo">360</span>              ButtonAddItem.setBounds(91, 77, 133, 28);<a name="line.360"></a>
<span class="sourceLineNo">361</span>              ButtonAddItem.addActionListener(new ActionListener() {<a name="line.361"></a>
<span class="sourceLineNo">362</span>                public void actionPerformed(ActionEvent evt) {<a name="line.362"></a>
<span class="sourceLineNo">363</span>                  String text = TextFieldConstraint.getText();<a name="line.363"></a>
<span class="sourceLineNo">364</span>                  if (text == null || text.trim().length() == 0) {<a name="line.364"></a>
<span class="sourceLineNo">365</span>                    java.awt.Toolkit.getDefaultToolkit().beep();<a name="line.365"></a>
<span class="sourceLineNo">366</span>                    return;<a name="line.366"></a>
<span class="sourceLineNo">367</span>                  }<a name="line.367"></a>
<span class="sourceLineNo">368</span>                  <a name="line.368"></a>
<span class="sourceLineNo">369</span>                  boolean regex = text.startsWith("*");<a name="line.369"></a>
<span class="sourceLineNo">370</span>                  if (regex) {<a name="line.370"></a>
<span class="sourceLineNo">371</span>                    try {<a name="line.371"></a>
<span class="sourceLineNo">372</span>                      java.util.regex.Pattern.compile(text.substring(1));<a name="line.372"></a>
<span class="sourceLineNo">373</span>                    } catch (java.util.regex.PatternSyntaxException pse) {<a name="line.373"></a>
<span class="sourceLineNo">374</span>                      java.awt.Toolkit.getDefaultToolkit().beep();<a name="line.374"></a>
<span class="sourceLineNo">375</span>                      return;<a name="line.375"></a>
<span class="sourceLineNo">376</span>                    }<a name="line.376"></a>
<span class="sourceLineNo">377</span>                  }<a name="line.377"></a>
<span class="sourceLineNo">378</span>                  <a name="line.378"></a>
<span class="sourceLineNo">379</span>                  DefaultComboBoxModel lm = (DefaultComboBoxModel)AvoidList.getModel();<a name="line.379"></a>
<span class="sourceLineNo">380</span>                  int size = lm.getSize();<a name="line.380"></a>
<span class="sourceLineNo">381</span>                  for (int i = 0; i &lt; size; i++) {<a name="line.381"></a>
<span class="sourceLineNo">382</span>                    String item = (String)lm.getElementAt(i);<a name="line.382"></a>
<span class="sourceLineNo">383</span>                    if (item != null &amp;&amp; item.equals(text)) {<a name="line.383"></a>
<span class="sourceLineNo">384</span>                      TextFieldConstraint.setText("");<a name="line.384"></a>
<span class="sourceLineNo">385</span>                      return;<a name="line.385"></a>
<span class="sourceLineNo">386</span>                    }<a name="line.386"></a>
<span class="sourceLineNo">387</span>                  }<a name="line.387"></a>
<span class="sourceLineNo">388</span>                  <a name="line.388"></a>
<span class="sourceLineNo">389</span>                  lm.addElement(text + " - " + ComboWeight.getSelectedItem());<a name="line.389"></a>
<span class="sourceLineNo">390</span>                  <a name="line.390"></a>
<span class="sourceLineNo">391</span>                  models[previousSelected] = lm;<a name="line.391"></a>
<span class="sourceLineNo">392</span>                  <a name="line.392"></a>
<span class="sourceLineNo">393</span>                  TextFieldConstraint.setText("");<a name="line.393"></a>
<span class="sourceLineNo">394</span>                  ComboWeight.setSelectedIndex(0);<a name="line.394"></a>
<span class="sourceLineNo">395</span>              }});<a name="line.395"></a>
<span class="sourceLineNo">396</span>            }<a name="line.396"></a>
<span class="sourceLineNo">397</span>          }<a name="line.397"></a>
<span class="sourceLineNo">398</span>          {<a name="line.398"></a>
<span class="sourceLineNo">399</span>            PaneExplain = new JTextPane();<a name="line.399"></a>
<span class="sourceLineNo">400</span>            PanelTransforms.add(PaneExplain);<a name="line.400"></a>
<span class="sourceLineNo">401</span>            PaneExplain<a name="line.401"></a>
<span class="sourceLineNo">402</span>              .setText("Adjust transform weights and add restrictions for specific Classes, Methods, and Fields.");<a name="line.402"></a>
<span class="sourceLineNo">403</span>            PaneExplain.setBounds(7, 7, 616, 35);<a name="line.403"></a>
<span class="sourceLineNo">404</span>            PaneExplain.setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 0));<a name="line.404"></a>
<span class="sourceLineNo">405</span>            PaneExplain.setEditable(false);<a name="line.405"></a>
<span class="sourceLineNo">406</span>          }<a name="line.406"></a>
<span class="sourceLineNo">407</span>          {<a name="line.407"></a>
<span class="sourceLineNo">408</span>            DefaultComboBoxModel ListTransformsModel = new DefaultComboBoxModel();<a name="line.408"></a>
<span class="sourceLineNo">409</span>            for (int i = 0; i &lt; optionStrings[0].length; i++)<a name="line.409"></a>
<span class="sourceLineNo">410</span>              ListTransformsModel.addElement(optionStrings[0][i] + " - 9");<a name="line.410"></a>
<span class="sourceLineNo">411</span>            <a name="line.411"></a>
<span class="sourceLineNo">412</span>            ListTransforms = new JList();<a name="line.412"></a>
<span class="sourceLineNo">413</span>            PanelTransforms.add(ListTransforms);<a name="line.413"></a>
<span class="sourceLineNo">414</span>            ListTransforms.setModel(ListTransformsModel);<a name="line.414"></a>
<span class="sourceLineNo">415</span>            ListTransforms.setBounds(7, 49, 238, 329);<a name="line.415"></a>
<span class="sourceLineNo">416</span>            ListTransforms<a name="line.416"></a>
<span class="sourceLineNo">417</span>              .addListSelectionListener(new ListSelectionListener() {<a name="line.417"></a>
<span class="sourceLineNo">418</span>              public void valueChanged(ListSelectionEvent evt) {<a name="line.418"></a>
<span class="sourceLineNo">419</span>                int selected[] = ListTransforms.getSelectedIndices();<a name="line.419"></a>
<span class="sourceLineNo">420</span>                if (selected.length &gt; 1) {<a name="line.420"></a>
<span class="sourceLineNo">421</span>                  ListTransforms.setSelectedIndices(new int[0]);<a name="line.421"></a>
<span class="sourceLineNo">422</span>                } else if (selected.length == 0) {<a name="line.422"></a>
<span class="sourceLineNo">423</span>                  return;<a name="line.423"></a>
<span class="sourceLineNo">424</span>                }<a name="line.424"></a>
<span class="sourceLineNo">425</span>              <a name="line.425"></a>
<span class="sourceLineNo">426</span>                String val = (String)ListTransforms.getSelectedValue();<a name="line.426"></a>
<span class="sourceLineNo">427</span>                if (ListTransforms.getSelectedIndex() == previousSelected)<a name="line.427"></a>
<span class="sourceLineNo">428</span>                  return;<a name="line.428"></a>
<span class="sourceLineNo">429</span>                previousSelected = ListTransforms.getSelectedIndex();<a name="line.429"></a>
<span class="sourceLineNo">430</span>                <a name="line.430"></a>
<span class="sourceLineNo">431</span>                if (val.indexOf("-") &gt; 0) {<a name="line.431"></a>
<span class="sourceLineNo">432</span>                  String weight = val.substring(val.indexOf("-") + 1, val.length()).trim();<a name="line.432"></a>
<span class="sourceLineNo">433</span>                  val = val.substring(0,val.indexOf("-"));<a name="line.433"></a>
<span class="sourceLineNo">434</span>                  <a name="line.434"></a>
<span class="sourceLineNo">435</span>                  try {<a name="line.435"></a>
<span class="sourceLineNo">436</span>                    int w = Integer.parseInt(weight);<a name="line.436"></a>
<span class="sourceLineNo">437</span>                    if (w &lt; 0 || w &gt; 10) <a name="line.437"></a>
<span class="sourceLineNo">438</span>                      weight = "0";<a name="line.438"></a>
<span class="sourceLineNo">439</span>                  } catch (NumberFormatException nfe) {<a name="line.439"></a>
<span class="sourceLineNo">440</span>                    weight = "0";<a name="line.440"></a>
<span class="sourceLineNo">441</span>                  }<a name="line.441"></a>
<span class="sourceLineNo">442</span>                  <a name="line.442"></a>
<span class="sourceLineNo">443</span>                  ComboBoxDefWeight.setSelectedItem(weight);<a name="line.443"></a>
<span class="sourceLineNo">444</span>                }<a name="line.444"></a>
<span class="sourceLineNo">445</span>                LabelTransformHeading.setText(val);<a name="line.445"></a>
<span class="sourceLineNo">446</span>                <a name="line.446"></a>
<span class="sourceLineNo">447</span>                DefaultComboBoxModel lm = (DefaultComboBoxModel)models[previousSelected];<a name="line.447"></a>
<span class="sourceLineNo">448</span>                if (lm == null)<a name="line.448"></a>
<span class="sourceLineNo">449</span>                  lm = new DefaultComboBoxModel(new String[0]);<a name="line.449"></a>
<span class="sourceLineNo">450</span>                AvoidList.setModel(lm);<a name="line.450"></a>
<span class="sourceLineNo">451</span>              }<a name="line.451"></a>
<span class="sourceLineNo">452</span>              });<a name="line.452"></a>
<span class="sourceLineNo">453</span>          }<a name="line.453"></a>
<span class="sourceLineNo">454</span>        }<a name="line.454"></a>
<span class="sourceLineNo">455</span>        {<a name="line.455"></a>
<span class="sourceLineNo">456</span>          PanelExecute = new JPanel();<a name="line.456"></a>
<span class="sourceLineNo">457</span>          TabbedPane.addTab("Output", null, PanelExecute, null);<a name="line.457"></a>
<span class="sourceLineNo">458</span>          PanelExecute.setLayout(null);<a name="line.458"></a>
<span class="sourceLineNo">459</span>          PanelExecute.setPreferredSize(new java.awt.Dimension(623, 427));<a name="line.459"></a>
<span class="sourceLineNo">460</span>          {<a name="line.460"></a>
<span class="sourceLineNo">461</span>            ButtonSaveOutput = new JButton();<a name="line.461"></a>
<span class="sourceLineNo">462</span>            PanelExecute.add(ButtonSaveOutput);<a name="line.462"></a>
<span class="sourceLineNo">463</span>            ButtonSaveOutput.setText("Save Output To File:");<a name="line.463"></a>
<span class="sourceLineNo">464</span>            ButtonSaveOutput.setBounds(7, 382, 182, 28);<a name="line.464"></a>
<span class="sourceLineNo">465</span>            ButtonSaveOutput.addActionListener(new ActionListener() {<a name="line.465"></a>
<span class="sourceLineNo">466</span>              public void actionPerformed(ActionEvent evt) {<a name="line.466"></a>
<span class="sourceLineNo">467</span>                String file = TextFieldOutputFolder.getText();<a name="line.467"></a>
<span class="sourceLineNo">468</span>                if (file.startsWith("~"))<a name="line.468"></a>
<span class="sourceLineNo">469</span>                  file = System.getProperty("user.home") + file.substring(1);<a name="line.469"></a>
<span class="sourceLineNo">470</span>                <a name="line.470"></a>
<span class="sourceLineNo">471</span>                try {<a name="line.471"></a>
<span class="sourceLineNo">472</span>                  File f = new File(file);<a name="line.472"></a>
<span class="sourceLineNo">473</span>                  if (!f.getParentFile().exists() || !f.getParentFile().isDirectory())<a name="line.473"></a>
<span class="sourceLineNo">474</span>                    throw new Exception("Directory does not appear to exist");<a name="line.474"></a>
<span class="sourceLineNo">475</span>                  if (f.exists() &amp;&amp; f.isDirectory())<a name="line.475"></a>
<span class="sourceLineNo">476</span>                    throw new Exception("File points to a directory");<a name="line.476"></a>
<span class="sourceLineNo">477</span>                  if (f.exists())  <a name="line.477"></a>
<span class="sourceLineNo">478</span>                    f.delete();<a name="line.478"></a>
<span class="sourceLineNo">479</span>                  f.createNewFile();<a name="line.479"></a>
<span class="sourceLineNo">480</span>                  RandomAccessFile rf = new RandomAccessFile(f, "rw");<a name="line.480"></a>
<span class="sourceLineNo">481</span>                  try {<a name="line.481"></a>
<span class="sourceLineNo">482</span>                    rf.write(TextAreaOutput.getText().getBytes());<a name="line.482"></a>
<span class="sourceLineNo">483</span>                  } catch (Exception exc) {<a name="line.483"></a>
<span class="sourceLineNo">484</span>                    throw exc;<a name="line.484"></a>
<span class="sourceLineNo">485</span>                  } finally {<a name="line.485"></a>
<span class="sourceLineNo">486</span>                    rf.close();<a name="line.486"></a>
<span class="sourceLineNo">487</span>                  }<a name="line.487"></a>
<span class="sourceLineNo">488</span>                } catch (Exception exc) {<a name="line.488"></a>
<span class="sourceLineNo">489</span>                  new PopupDialog(thisRef, true, "Exception: "+exc.toString());<a name="line.489"></a>
<span class="sourceLineNo">490</span>                }<a name="line.490"></a>
<span class="sourceLineNo">491</span>              }<a name="line.491"></a>
<span class="sourceLineNo">492</span>            });<a name="line.492"></a>
<span class="sourceLineNo">493</span>          }<a name="line.493"></a>
<span class="sourceLineNo">494</span>          {<a name="line.494"></a>
<span class="sourceLineNo">495</span>            TextFieldOutputFolder = new JTextField();<a name="line.495"></a>
<span class="sourceLineNo">496</span>            PanelExecute.add(TextFieldOutputFolder);<a name="line.496"></a>
<span class="sourceLineNo">497</span>            TextFieldOutputFolder.setBounds(196, 382, 427, 28);<a name="line.497"></a>
<span class="sourceLineNo">498</span>          }<a name="line.498"></a>
<span class="sourceLineNo">499</span>          {<a name="line.499"></a>
<span class="sourceLineNo">500</span>            TextAreaOutput = new JTextArea();<a name="line.500"></a>
<span class="sourceLineNo">501</span>            TextAreaOutput.setFont(new java.awt.Font("Courier 10 Pitch",0,10));<a name="line.501"></a>
<span class="sourceLineNo">502</span>            jScrollPane1 = new JScrollPane(TextAreaOutput);<a name="line.502"></a>
<span class="sourceLineNo">503</span>            PanelExecute.add(jScrollPane1);<a name="line.503"></a>
<span class="sourceLineNo">504</span>            jScrollPane1.setBounds(7, 0, 616, 378);<a name="line.504"></a>
<span class="sourceLineNo">505</span>            jScrollPane1.setAutoscrolls(true);<a name="line.505"></a>
<span class="sourceLineNo">506</span>          }<a name="line.506"></a>
<span class="sourceLineNo">507</span>        }<a name="line.507"></a>
<span class="sourceLineNo">508</span>      }<a name="line.508"></a>
<span class="sourceLineNo">509</span>      this.setSize(640, 504);<a name="line.509"></a>
<span class="sourceLineNo">510</span>      {<a name="line.510"></a>
<span class="sourceLineNo">511</span>        jMenuBar1 = new JMenuBar();<a name="line.511"></a>
<span class="sourceLineNo">512</span>        setJMenuBar(jMenuBar1);<a name="line.512"></a>
<span class="sourceLineNo">513</span>        {<a name="line.513"></a>
<span class="sourceLineNo">514</span>          jMenu3 = new JMenu();<a name="line.514"></a>
<span class="sourceLineNo">515</span>          jMenuBar1.add(jMenu3);<a name="line.515"></a>
<span class="sourceLineNo">516</span>          jMenu3.setText("File");<a name="line.516"></a>
<span class="sourceLineNo">517</span>          {<a name="line.517"></a>
<span class="sourceLineNo">518</span>            speedMenuItem = new JMenuItem();<a name="line.518"></a>
<span class="sourceLineNo">519</span>            jMenu3.add(speedMenuItem);<a name="line.519"></a>
<span class="sourceLineNo">520</span>            speedMenuItem.setText("Use Speed-Tuned Combo");<a name="line.520"></a>
<span class="sourceLineNo">521</span>            speedMenuItem.addActionListener(new  ActionListener() {<a name="line.521"></a>
<span class="sourceLineNo">522</span>              public void actionPerformed(ActionEvent evt) {<a name="line.522"></a>
<span class="sourceLineNo">523</span>                DefaultComboBoxModel ListTransformsModel = new DefaultComboBoxModel();<a name="line.523"></a>
<span class="sourceLineNo">524</span>                for (int i = 0; i &lt; optionStrings[0].length; i++)<a name="line.524"></a>
<span class="sourceLineNo">525</span>                  ListTransformsModel.addElement(optionStrings[0][i] + " - " + defaultWeights[0][i]);<a name="line.525"></a>
<span class="sourceLineNo">526</span>                <a name="line.526"></a>
<span class="sourceLineNo">527</span>                ListTransforms.setModel(ListTransformsModel);<a name="line.527"></a>
<span class="sourceLineNo">528</span>              }<a name="line.528"></a>
<span class="sourceLineNo">529</span>            });<a name="line.529"></a>
<span class="sourceLineNo">530</span>            <a name="line.530"></a>
<span class="sourceLineNo">531</span>            sizeMenuItem = new JMenuItem();<a name="line.531"></a>
<span class="sourceLineNo">532</span>            jMenu3.add(sizeMenuItem);<a name="line.532"></a>
<span class="sourceLineNo">533</span>            sizeMenuItem.setText("Use Size-Tuned Combo");<a name="line.533"></a>
<span class="sourceLineNo">534</span>            sizeMenuItem.addActionListener(new  ActionListener() {<a name="line.534"></a>
<span class="sourceLineNo">535</span>              public void actionPerformed(ActionEvent evt) {<a name="line.535"></a>
<span class="sourceLineNo">536</span>                DefaultComboBoxModel ListTransformsModel = new DefaultComboBoxModel();<a name="line.536"></a>
<span class="sourceLineNo">537</span>                for (int i = 0; i &lt; optionStrings[0].length; i++)<a name="line.537"></a>
<span class="sourceLineNo">538</span>                  ListTransformsModel.addElement(optionStrings[0][i] + " - " + defaultWeights[1][i]);<a name="line.538"></a>
<span class="sourceLineNo">539</span>                <a name="line.539"></a>
<span class="sourceLineNo">540</span>                ListTransforms.setModel(ListTransformsModel);<a name="line.540"></a>
<span class="sourceLineNo">541</span>              }<a name="line.541"></a>
<span class="sourceLineNo">542</span>            });<a name="line.542"></a>
<span class="sourceLineNo">543</span>            <a name="line.543"></a>
<span class="sourceLineNo">544</span>            protMenuItem = new JMenuItem();<a name="line.544"></a>
<span class="sourceLineNo">545</span>            jMenu3.add(protMenuItem);<a name="line.545"></a>
<span class="sourceLineNo">546</span>            protMenuItem.setText("Use Protection-Tuned Combo");<a name="line.546"></a>
<span class="sourceLineNo">547</span>            protMenuItem.addActionListener(new  ActionListener() {<a name="line.547"></a>
<span class="sourceLineNo">548</span>              public void actionPerformed(ActionEvent evt) {<a name="line.548"></a>
<span class="sourceLineNo">549</span>                DefaultComboBoxModel ListTransformsModel = new DefaultComboBoxModel();<a name="line.549"></a>
<span class="sourceLineNo">550</span>                for (int i = 0; i &lt; optionStrings[0].length; i++)<a name="line.550"></a>
<span class="sourceLineNo">551</span>                  ListTransformsModel.addElement(optionStrings[0][i] + " - " + defaultWeights[2][i]);<a name="line.551"></a>
<span class="sourceLineNo">552</span>                <a name="line.552"></a>
<span class="sourceLineNo">553</span>                ListTransforms.setModel(ListTransformsModel);<a name="line.553"></a>
<span class="sourceLineNo">554</span>              }<a name="line.554"></a>
<span class="sourceLineNo">555</span>            });<a name="line.555"></a>
<span class="sourceLineNo">556</span>            <a name="line.556"></a>
<span class="sourceLineNo">557</span>            newFileMenuItem = new JMenuItem();<a name="line.557"></a>
<span class="sourceLineNo">558</span>            jMenu3.add(newFileMenuItem);<a name="line.558"></a>
<span class="sourceLineNo">559</span>            newFileMenuItem.setText("Execute");<a name="line.559"></a>
<span class="sourceLineNo">560</span>            newFileMenuItem.addActionListener(new ActionListener() {<a name="line.560"></a>
<span class="sourceLineNo">561</span>              public void actionPerformed(ActionEvent evt) {<a name="line.561"></a>
<span class="sourceLineNo">562</span>                String main = TextFieldMain.getText().trim();<a name="line.562"></a>
<span class="sourceLineNo">563</span>                if (main.length() == 0) { <a name="line.563"></a>
<span class="sourceLineNo">564</span>                  new PopupDialog(thisRef, true, "No Main Class Specified");<a name="line.564"></a>
<span class="sourceLineNo">565</span>                  return;<a name="line.565"></a>
<span class="sourceLineNo">566</span>                }<a name="line.566"></a>
<span class="sourceLineNo">567</span>                <a name="line.567"></a>
<span class="sourceLineNo">568</span>                String cp = ClasspathTextField.getText().trim();<a name="line.568"></a>
<span class="sourceLineNo">569</span>                if (cp.length() == 0) { <a name="line.569"></a>
<span class="sourceLineNo">570</span>                  StringTokenizer cptokenizer = new StringTokenizer(DefaultClassPathPane.getText());<a name="line.570"></a>
<span class="sourceLineNo">571</span>                  cp = cptokenizer.nextToken();<a name="line.571"></a>
<span class="sourceLineNo">572</span>                  while (cptokenizer.hasMoreTokens())<a name="line.572"></a>
<span class="sourceLineNo">573</span>                    cp += cptokenizer.nextToken();<a name="line.573"></a>
<span class="sourceLineNo">574</span>                }<a name="line.574"></a>
<span class="sourceLineNo">575</span>                <a name="line.575"></a>
<span class="sourceLineNo">576</span>                Integer min = null, max = null;<a name="line.576"></a>
<span class="sourceLineNo">577</span>                try {<a name="line.577"></a>
<span class="sourceLineNo">578</span>                  min = new Integer(TextFieldMinMem.getText());<a name="line.578"></a>
<span class="sourceLineNo">579</span>                } catch (NumberFormatException nfe) {<a name="line.579"></a>
<span class="sourceLineNo">580</span>                  min = null;<a name="line.580"></a>
<span class="sourceLineNo">581</span>                }<a name="line.581"></a>
<span class="sourceLineNo">582</span>                try {<a name="line.582"></a>
<span class="sourceLineNo">583</span>                  max = new Integer(TextFieldMaxMem.getText());<a name="line.583"></a>
<span class="sourceLineNo">584</span>                } catch (NumberFormatException nfe) {<a name="line.584"></a>
<span class="sourceLineNo">585</span>                  max = null;<a name="line.585"></a>
<span class="sourceLineNo">586</span>                }<a name="line.586"></a>
<span class="sourceLineNo">587</span>                <a name="line.587"></a>
<span class="sourceLineNo">588</span>                Vector&lt;String&gt; tmp = new Vector&lt;String&gt;();<a name="line.588"></a>
<span class="sourceLineNo">589</span>                String args = TextFieldJVMArgs.getText();<a name="line.589"></a>
<span class="sourceLineNo">590</span>                StringTokenizer st = new StringTokenizer(args,",");<a name="line.590"></a>
<span class="sourceLineNo">591</span>                while (st.hasMoreTokens())<a name="line.591"></a>
<span class="sourceLineNo">592</span>                  tmp.add(st.nextToken());<a name="line.592"></a>
<span class="sourceLineNo">593</span>                <a name="line.593"></a>
<span class="sourceLineNo">594</span>                boolean customclasspath = false;<a name="line.594"></a>
<span class="sourceLineNo">595</span>                String vmargs[] = new String[tmp.size() + (min == null ? 0 : 1) + + (max == null ? 0 : 1)];<a name="line.595"></a>
<span class="sourceLineNo">596</span>                for (int i = 0; i &lt; tmp.size(); i++) {<a name="line.596"></a>
<span class="sourceLineNo">597</span>                  vmargs[i] = tmp.get(i);<a name="line.597"></a>
<span class="sourceLineNo">598</span>                  if (vmargs[i].startsWith("-cp") || vmargs[i].startsWith("-classpath"))<a name="line.598"></a>
<span class="sourceLineNo">599</span>                    customclasspath = true;<a name="line.599"></a>
<span class="sourceLineNo">600</span>                }<a name="line.600"></a>
<span class="sourceLineNo">601</span>                if (min != null) {<a name="line.601"></a>
<span class="sourceLineNo">602</span>                  vmargs[tmp.size()] = "-Xms"+min.intValue()+"m";<a name="line.602"></a>
<span class="sourceLineNo">603</span>                  if (max != null)<a name="line.603"></a>
<span class="sourceLineNo">604</span>                    vmargs[tmp.size()+1] = "-Xmx"+max.intValue()+"m";<a name="line.604"></a>
<span class="sourceLineNo">605</span>                } else if (max != null){<a name="line.605"></a>
<span class="sourceLineNo">606</span>                  vmargs[tmp.size()] = "-Xmx"+max.intValue()+"m";<a name="line.606"></a>
<span class="sourceLineNo">607</span>                }<a name="line.607"></a>
<span class="sourceLineNo">608</span>                <a name="line.608"></a>
<span class="sourceLineNo">609</span>                Vector trans = new Vector();<a name="line.609"></a>
<span class="sourceLineNo">610</span>                ListModel lmy = (ListModel)ListTransforms.getModel();<a name="line.610"></a>
<span class="sourceLineNo">611</span>                for (int i = 0; i &lt; lmy.getSize(); i++) {<a name="line.611"></a>
<span class="sourceLineNo">612</span>                  String text = (String)lmy.getElementAt(i);<a name="line.612"></a>
<span class="sourceLineNo">613</span>                  for (int j = 0; j &lt; optionStrings[0].length; j++)<a name="line.613"></a>
<span class="sourceLineNo">614</span>                    if (text.startsWith(optionStrings[0][j])) {<a name="line.614"></a>
<span class="sourceLineNo">615</span>                      String weight = "9";<a name="line.615"></a>
<span class="sourceLineNo">616</span>                      if (text.lastIndexOf("-") &gt; 0) {<a name="line.616"></a>
<span class="sourceLineNo">617</span>                        weight = text.substring(text.lastIndexOf("-")+1).trim();<a name="line.617"></a>
<span class="sourceLineNo">618</span>                        try {<a name="line.618"></a>
<span class="sourceLineNo">619</span>                          Integer.parseInt(weight);<a name="line.619"></a>
<span class="sourceLineNo">620</span>                        } catch (Exception exc) {<a name="line.620"></a>
<span class="sourceLineNo">621</span>                          weight = "9";<a name="line.621"></a>
<span class="sourceLineNo">622</span>                        }<a name="line.622"></a>
<span class="sourceLineNo">623</span>                      }<a name="line.623"></a>
<span class="sourceLineNo">624</span>                      trans.add("-t:"+weight+":"+optionStrings[1][j]);<a name="line.624"></a>
<span class="sourceLineNo">625</span>                      <a name="line.625"></a>
<span class="sourceLineNo">626</span>                      ListModel lmx = (ListModel)models[j];<a name="line.626"></a>
<span class="sourceLineNo">627</span>                      if (lmx != null) {<a name="line.627"></a>
<span class="sourceLineNo">628</span>                        for (int k = 0; k &lt; lmx.getSize(); k++) {<a name="line.628"></a>
<span class="sourceLineNo">629</span>                          String val = (String)lmx.getElementAt(k);<a name="line.629"></a>
<span class="sourceLineNo">630</span>                          weight = val.substring(val.lastIndexOf("-")+1).trim();<a name="line.630"></a>
<span class="sourceLineNo">631</span>                          val = val.substring(0,val.lastIndexOf("-")-1);<a name="line.631"></a>
<span class="sourceLineNo">632</span>                          trans.add("-it:"+weight+":"+optionStrings[1][j]+":\""+val+"\"");<a name="line.632"></a>
<span class="sourceLineNo">633</span>                        }<a name="line.633"></a>
<span class="sourceLineNo">634</span>                      }<a name="line.634"></a>
<span class="sourceLineNo">635</span>                      break;<a name="line.635"></a>
<span class="sourceLineNo">636</span>                    }<a name="line.636"></a>
<span class="sourceLineNo">637</span>                }<a name="line.637"></a>
<span class="sourceLineNo">638</span>                String[] transforms = new String[trans.size()]; <a name="line.638"></a>
<span class="sourceLineNo">639</span>                trans.copyInto(transforms);<a name="line.639"></a>
<span class="sourceLineNo">640</span>                trans = null;<a name="line.640"></a>
<span class="sourceLineNo">641</span>                <a name="line.641"></a>
<span class="sourceLineNo">642</span>                int index = 0;<a name="line.642"></a>
<span class="sourceLineNo">643</span>                String outdir = TextField.getText();<a name="line.643"></a>
<span class="sourceLineNo">644</span>                String[] cmdarray = new String[6 + (customclasspath ? 0 : 2) <a name="line.644"></a>
<span class="sourceLineNo">645</span>                                               + vmargs.length + transforms.length <a name="line.645"></a>
<span class="sourceLineNo">646</span>                                               + (RadioSummary.isSelected() ? 1 : 0)<a name="line.646"></a>
<span class="sourceLineNo">647</span>                                               + (RadioVerbose.isSelected() ? 1 : 0)<a name="line.647"></a>
<span class="sourceLineNo">648</span>                                               + (DebugRadio.isSelected() ? 1 : 0)<a name="line.648"></a>
<span class="sourceLineNo">649</span>                                               + (outdir.length() &gt; 0 ? 2 : 0)];<a name="line.649"></a>
<span class="sourceLineNo">650</span>                cmdarray[index++] = "java";<a name="line.650"></a>
<span class="sourceLineNo">651</span>                if (!customclasspath) {<a name="line.651"></a>
<span class="sourceLineNo">652</span>                  cmdarray[index++] = "-cp";<a name="line.652"></a>
<span class="sourceLineNo">653</span>                  cmdarray[index++] = System.getProperty("java.class.path");<a name="line.653"></a>
<span class="sourceLineNo">654</span>                }<a name="line.654"></a>
<span class="sourceLineNo">655</span>                System.arraycopy(vmargs, 0, cmdarray, index, vmargs.length);<a name="line.655"></a>
<span class="sourceLineNo">656</span>                cmdarray[vmargs.length + index++] = "soot.jbco.Main";<a name="line.656"></a>
<span class="sourceLineNo">657</span>                cmdarray[vmargs.length + index++] = "-cp";<a name="line.657"></a>
<span class="sourceLineNo">658</span>                cmdarray[vmargs.length + index++] = cp;<a name="line.658"></a>
<span class="sourceLineNo">659</span>                if (outdir.length() &gt; 0) {<a name="line.659"></a>
<span class="sourceLineNo">660</span>                  cmdarray[vmargs.length + index++] = "-d";<a name="line.660"></a>
<span class="sourceLineNo">661</span>                  cmdarray[vmargs.length + index++] = outdir;<a name="line.661"></a>
<span class="sourceLineNo">662</span>                }<a name="line.662"></a>
<span class="sourceLineNo">663</span>                cmdarray[vmargs.length + index++] = "-app";<a name="line.663"></a>
<span class="sourceLineNo">664</span>                cmdarray[vmargs.length + index++] = main;<a name="line.664"></a>
<span class="sourceLineNo">665</span>                if (RadioSummary.isSelected()) <a name="line.665"></a>
<span class="sourceLineNo">666</span>                  cmdarray[vmargs.length + index++] = "-jbco:silent";<a name="line.666"></a>
<span class="sourceLineNo">667</span>                if (RadioVerbose.isSelected()) <a name="line.667"></a>
<span class="sourceLineNo">668</span>                  cmdarray[vmargs.length + index++] = "-jbco:verbose";<a name="line.668"></a>
<span class="sourceLineNo">669</span>                if (DebugRadio.isSelected()) <a name="line.669"></a>
<span class="sourceLineNo">670</span>                  cmdarray[vmargs.length + index++] = "-jbco:debug";<a name="line.670"></a>
<span class="sourceLineNo">671</span>                System.arraycopy(transforms, 0, cmdarray, vmargs.length + index, transforms.length); <a name="line.671"></a>
<span class="sourceLineNo">672</span><a name="line.672"></a>
<span class="sourceLineNo">673</span>                String output = "";<a name="line.673"></a>
<span class="sourceLineNo">674</span>                for (String element : cmdarray)<a name="line.674"></a>
<span class="sourceLineNo">675</span>                                        output += element + " ";<a name="line.675"></a>
<span class="sourceLineNo">676</span>                output += "\n";<a name="line.676"></a>
<span class="sourceLineNo">677</span><a name="line.677"></a>
<span class="sourceLineNo">678</span>                TextAreaOutput.setText(output);<a name="line.678"></a>
<span class="sourceLineNo">679</span>                TabbedPane.setSelectedComponent(PanelExecute);<a name="line.679"></a>
<span class="sourceLineNo">680</span>                try {<a name="line.680"></a>
<span class="sourceLineNo">681</span>                  runner = new RunnerThread(cmdarray, (JBCOViewer)thisRef, WorkingDirTextField.getText());<a name="line.681"></a>
<span class="sourceLineNo">682</span>                  Thread t = new Thread(runner);<a name="line.682"></a>
<span class="sourceLineNo">683</span>                  t.start();<a name="line.683"></a>
<span class="sourceLineNo">684</span>                } catch (Exception exc) {<a name="line.684"></a>
<span class="sourceLineNo">685</span>                  TextAreaOutput.append("\n\n" + exc.toString());<a name="line.685"></a>
<span class="sourceLineNo">686</span>                  synchronized (runner) {<a name="line.686"></a>
<span class="sourceLineNo">687</span>                    runner.stopRun = true;<a name="line.687"></a>
<span class="sourceLineNo">688</span>                  }<a name="line.688"></a>
<span class="sourceLineNo">689</span>                  runner = null;<a name="line.689"></a>
<span class="sourceLineNo">690</span>                }<a name="line.690"></a>
<span class="sourceLineNo">691</span>              }<a name="line.691"></a>
<span class="sourceLineNo">692</span>            });<a name="line.692"></a>
<span class="sourceLineNo">693</span>          }<a name="line.693"></a>
<span class="sourceLineNo">694</span>          {<a name="line.694"></a>
<span class="sourceLineNo">695</span>            openFileMenuItem = new JMenuItem();<a name="line.695"></a>
<span class="sourceLineNo">696</span>            jMenu3.add(openFileMenuItem);<a name="line.696"></a>
<span class="sourceLineNo">697</span>            openFileMenuItem.setEnabled(false);<a name="line.697"></a>
<span class="sourceLineNo">698</span>            openFileMenuItem.setText("Stop");<a name="line.698"></a>
<span class="sourceLineNo">699</span>            openFileMenuItem.addActionListener(new ActionListener() {<a name="line.699"></a>
<span class="sourceLineNo">700</span>              public void actionPerformed(ActionEvent evt) {<a name="line.700"></a>
<span class="sourceLineNo">701</span>                if (runner != null) {<a name="line.701"></a>
<span class="sourceLineNo">702</span>                  synchronized (runner) {<a name="line.702"></a>
<span class="sourceLineNo">703</span>                    runner.stopRun = true;<a name="line.703"></a>
<span class="sourceLineNo">704</span>                  }<a name="line.704"></a>
<span class="sourceLineNo">705</span>                  runner = null;<a name="line.705"></a>
<span class="sourceLineNo">706</span>                }<a name="line.706"></a>
<span class="sourceLineNo">707</span>                openFileMenuItem.setEnabled(false);<a name="line.707"></a>
<span class="sourceLineNo">708</span>              }<a name="line.708"></a>
<span class="sourceLineNo">709</span>            });<a name="line.709"></a>
<span class="sourceLineNo">710</span>          }<a name="line.710"></a>
<span class="sourceLineNo">711</span>          /*{<a name="line.711"></a>
<span class="sourceLineNo">712</span>            newFileMenuItem = new JMenuItem();<a name="line.712"></a>
<span class="sourceLineNo">713</span>            jMenu3.add(newFileMenuItem);<a name="line.713"></a>
<span class="sourceLineNo">714</span>            newFileMenuItem.setText("Stop");<a name="line.714"></a>
<span class="sourceLineNo">715</span>          }<a name="line.715"></a>
<span class="sourceLineNo">716</span>          {<a name="line.716"></a>
<span class="sourceLineNo">717</span>            openFileMenuItem = new JMenuItem();<a name="line.717"></a>
<span class="sourceLineNo">718</span>            jMenu3.add(openFileMenuItem);<a name="line.718"></a>
<span class="sourceLineNo">719</span>            openFileMenuItem.setText("Open");<a name="line.719"></a>
<span class="sourceLineNo">720</span>          }<a name="line.720"></a>
<span class="sourceLineNo">721</span>          {<a name="line.721"></a>
<span class="sourceLineNo">722</span>            saveMenuItem = new JMenuItem();<a name="line.722"></a>
<span class="sourceLineNo">723</span>            jMenu3.add(saveMenuItem);<a name="line.723"></a>
<span class="sourceLineNo">724</span>            saveMenuItem.setText("Save");<a name="line.724"></a>
<span class="sourceLineNo">725</span>          }<a name="line.725"></a>
<span class="sourceLineNo">726</span>          {<a name="line.726"></a>
<span class="sourceLineNo">727</span>            saveAsMenuItem = new JMenuItem();<a name="line.727"></a>
<span class="sourceLineNo">728</span>            jMenu3.add(saveAsMenuItem);<a name="line.728"></a>
<span class="sourceLineNo">729</span>            saveAsMenuItem.setText("Save As ...");<a name="line.729"></a>
<span class="sourceLineNo">730</span>          }<a name="line.730"></a>
<span class="sourceLineNo">731</span>          {<a name="line.731"></a>
<span class="sourceLineNo">732</span>            closeFileMenuItem = new JMenuItem();<a name="line.732"></a>
<span class="sourceLineNo">733</span>            jMenu3.add(closeFileMenuItem);<a name="line.733"></a>
<span class="sourceLineNo">734</span>            closeFileMenuItem.setText("Close");<a name="line.734"></a>
<span class="sourceLineNo">735</span>          }<a name="line.735"></a>
<span class="sourceLineNo">736</span>          {<a name="line.736"></a>
<span class="sourceLineNo">737</span>            jSeparator2 = new JSeparator();<a name="line.737"></a>
<span class="sourceLineNo">738</span>            jMenu3.add(jSeparator2);<a name="line.738"></a>
<span class="sourceLineNo">739</span>          }*/<a name="line.739"></a>
<span class="sourceLineNo">740</span>          {<a name="line.740"></a>
<span class="sourceLineNo">741</span>            exitMenuItem = new JMenuItem();<a name="line.741"></a>
<span class="sourceLineNo">742</span>            jMenu3.add(exitMenuItem);<a name="line.742"></a>
<span class="sourceLineNo">743</span>            exitMenuItem.setText("Exit");<a name="line.743"></a>
<span class="sourceLineNo">744</span>            exitMenuItem.addActionListener(new ActionListener() {<a name="line.744"></a>
<span class="sourceLineNo">745</span>              public void actionPerformed(ActionEvent evt) {<a name="line.745"></a>
<span class="sourceLineNo">746</span>                System.exit(0);<a name="line.746"></a>
<span class="sourceLineNo">747</span>              }<a name="line.747"></a>
<span class="sourceLineNo">748</span>            });<a name="line.748"></a>
<span class="sourceLineNo">749</span>          }<a name="line.749"></a>
<span class="sourceLineNo">750</span>        }<a name="line.750"></a>
<span class="sourceLineNo">751</span>        /*{<a name="line.751"></a>
<span class="sourceLineNo">752</span>          jMenu4 = new JMenu();<a name="line.752"></a>
<span class="sourceLineNo">753</span>          jMenuBar1.add(jMenu4);<a name="line.753"></a>
<span class="sourceLineNo">754</span>          jMenu4.setText("Edit");<a name="line.754"></a>
<span class="sourceLineNo">755</span>          {<a name="line.755"></a>
<span class="sourceLineNo">756</span>            cutMenuItem = new JMenuItem();<a name="line.756"></a>
<span class="sourceLineNo">757</span>            jMenu4.add(cutMenuItem);<a name="line.757"></a>
<span class="sourceLineNo">758</span>            cutMenuItem.setText("Cut");<a name="line.758"></a>
<span class="sourceLineNo">759</span>          }<a name="line.759"></a>
<span class="sourceLineNo">760</span>          {<a name="line.760"></a>
<span class="sourceLineNo">761</span>            copyMenuItem = new JMenuItem();<a name="line.761"></a>
<span class="sourceLineNo">762</span>            jMenu4.add(copyMenuItem);<a name="line.762"></a>
<span class="sourceLineNo">763</span>            copyMenuItem.setText("Copy");<a name="line.763"></a>
<span class="sourceLineNo">764</span>          }<a name="line.764"></a>
<span class="sourceLineNo">765</span>          {<a name="line.765"></a>
<span class="sourceLineNo">766</span>            pasteMenuItem = new JMenuItem();<a name="line.766"></a>
<span class="sourceLineNo">767</span>            jMenu4.add(pasteMenuItem);<a name="line.767"></a>
<span class="sourceLineNo">768</span>            pasteMenuItem.setText("Paste");<a name="line.768"></a>
<span class="sourceLineNo">769</span>          }<a name="line.769"></a>
<span class="sourceLineNo">770</span>          {<a name="line.770"></a>
<span class="sourceLineNo">771</span>            jSeparator1 = new JSeparator();<a name="line.771"></a>
<span class="sourceLineNo">772</span>            jMenu4.add(jSeparator1);<a name="line.772"></a>
<span class="sourceLineNo">773</span>          }<a name="line.773"></a>
<span class="sourceLineNo">774</span>          {<a name="line.774"></a>
<span class="sourceLineNo">775</span>            deleteMenuItem = new JMenuItem();<a name="line.775"></a>
<span class="sourceLineNo">776</span>            jMenu4.add(deleteMenuItem);<a name="line.776"></a>
<span class="sourceLineNo">777</span>            deleteMenuItem.setText("Delete");<a name="line.777"></a>
<span class="sourceLineNo">778</span>          }<a name="line.778"></a>
<span class="sourceLineNo">779</span>        }<a name="line.779"></a>
<span class="sourceLineNo">780</span>        {<a name="line.780"></a>
<span class="sourceLineNo">781</span>          jMenu5 = new JMenu();<a name="line.781"></a>
<span class="sourceLineNo">782</span>          jMenuBar1.add(jMenu5);<a name="line.782"></a>
<span class="sourceLineNo">783</span>          jMenu5.setText("Help");<a name="line.783"></a>
<span class="sourceLineNo">784</span>          {<a name="line.784"></a>
<span class="sourceLineNo">785</span>            helpMenuItem = new JMenuItem();<a name="line.785"></a>
<span class="sourceLineNo">786</span>            jMenu5.add(helpMenuItem);<a name="line.786"></a>
<span class="sourceLineNo">787</span>            helpMenuItem.setText("Help");<a name="line.787"></a>
<span class="sourceLineNo">788</span>          }<a name="line.788"></a>
<span class="sourceLineNo">789</span>        }*/<a name="line.789"></a>
<span class="sourceLineNo">790</span>      }<a name="line.790"></a>
<span class="sourceLineNo">791</span>    } catch (Exception e) {<a name="line.791"></a>
<span class="sourceLineNo">792</span>      e.printStackTrace();<a name="line.792"></a>
<span class="sourceLineNo">793</span>    }<a name="line.793"></a>
<span class="sourceLineNo">794</span>  }<a name="line.794"></a>
<span class="sourceLineNo">795</span>}<a name="line.795"></a>




























































</pre>
</div>
</body>
</html>
